---
slug: tf/1-tf-plan-summary
title: Summarizing and aggregating multiple terraform plans
date: 2023-10-05
group: blog
authors: cangulo
tags: [terraform, tf, gh-actions]
---


import Gif from '/src/components/gif.js'

Refactoring hundreds of environments without downtime

Let me start with some context. A few weeks ago I had to refactor a terraform solution,  the goal was to prepare it for  upcoming features. Minor changes 
 
Let's take the next code as an example. There are three lambdas created by 3 resources. 

We change the approach to define the lambdas models in a local variable  code one lambda

Let me start with two question: have you ever refactor a terraform solution? How many environments were ruled by that solution? In my case, I had to refactor some code that could affect hundreds of environments. Let me explain you how I tackle it avoiding downtime. Let's start!

A few weeks ago I was working on refactoring a terraform solution.  



<!--truncate-->

