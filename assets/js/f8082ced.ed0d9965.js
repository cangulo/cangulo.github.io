"use strict";(self.webpackChunkcangulo_github_io=self.webpackChunkcangulo_github_io||[]).push([[8901],{1294:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return u},contentTitle:function(){return c},metadata:function(){return p},assets:function(){return h},toc:function(){return d},default:function(){return g}});var n=a(3117),i=a(102),o=(a(7294),a(3905)),l=a(4888),r=a(6785),s=a(3114),m=a(6339),k=["components"],u={slug:"bash/1-interactive-bookmarks",title:"Create an interactive bookmarks menu in your terminal",date:new Date("2020-12-11T00:00:00.000Z"),group:"blog",authors:"cangulo",tags:["linux","productivity","hack","bash","zsh","terminal"]},c=void 0,p={permalink:"/blog/bash/1-interactive-bookmarks",editUrl:"https://github.com/cangulo/cangulo.github.io/blob/main/blog/posts/bash/1-interactive-bookmarks/1-interactive-bookmarks.mdx",source:"@site/blog/posts/bash/1-interactive-bookmarks/1-interactive-bookmarks.mdx",title:"Create an interactive bookmarks menu in your terminal",description:"In this post, I am going to implement an interactive bookmarks menu using fzf in bash Terminal.",date:"2020-12-11T00:00:00.000Z",formattedDate:"December 11, 2020",tags:[{label:"linux",permalink:"/blog/tags/linux"},{label:"productivity",permalink:"/blog/tags/productivity"},{label:"hack",permalink:"/blog/tags/hack"},{label:"bash",permalink:"/blog/tags/bash"},{label:"zsh",permalink:"/blog/tags/zsh"},{label:"terminal",permalink:"/blog/tags/terminal"}],readingTime:2.275,truncated:!0,authors:[{name:"Carlos Angulo Mascarell",title:"Software Engineer",url:"https://github.com/cangulo",imageURL:"https://github.com/cangulo/cangulo/raw/main/profile_picture_preview_icon.png",key:"cangulo"}],prevItem:{title:"Add shortcuts to your bash terminal",permalink:"/blog/bash/2-add-shortcuts"},nextItem:{title:"How to use the PowerShell Profile to be more productive",permalink:"/blog/ps-profile-productive"}},h={authorsImageUrls:[void 0]},d=[{value:"Requirements",id:"requirements",children:[],level:2},{value:"Demo",id:"demo",children:[],level:2},{value:"Implementation",id:"implementation",children:[{value:"1. Read the bookmarks",id:"1-read-the-bookmarks",children:[],level:3},{value:"2. List the bookmarks",id:"2-list-the-bookmarks",children:[],level:3},{value:"3. Once a bookmark is selected, navigate to it",id:"3-once-a-bookmark-is-selected-navigate-to-it",children:[],level:3}],level:2},{value:"Bonus: execute this every time you open a terminal",id:"bonus-execute-this-every-time-you-open-a-terminal",children:[],level:2}],b={toc:d};function g(e){var t=e.components,c=(0,i.Z)(e,k);return(0,o.kt)("wrapper",(0,n.Z)({},b,c,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"In this post, I am going to implement an interactive bookmarks menu using fzf in bash Terminal."),(0,o.kt)("h2",{id:"requirements"},"Requirements"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Linux (I'm using ",(0,o.kt)("a",{parentName:"li",href:"https://elementary.io"},"Elementary OS"),", a Ubuntu-based distro, try it!)"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/junegunn/fzf"},"fzf")," command-line fuzzy finder"),(0,o.kt)("li",{parentName:"ul"},"Remember to add execution permissions to the scripts through ",(0,o.kt)("inlineCode",{parentName:"li"},"chmod +x"))),(0,o.kt)("h2",{id:"demo"},"Demo"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"goal",src:a(7189).Z})),(0,o.kt)("p",null,"As you see, every time I call ",(0,o.kt)("inlineCode",{parentName:"p"},"listBookmarks")," the following paths are listed interactively:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"/home/cangulo/repos/cangulo-tf"),(0,o.kt)("li",{parentName:"ul"},"/home/cangulo/repos/cangulo-nuke")),(0,o.kt)("p",null,"I can move through them using the up/down keys, and navigate into by pressing Enter."),(0,o.kt)("p",null,"On the other hand, in case similar paths are listed, I can filter by typing keywords."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"goal",src:a(1122).Z})),(0,o.kt)("h2",{id:"implementation"},"Implementation"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash",metastring:"file=./code/listbookmarks.sh",file:"./code/listbookmarks.sh"},'#!/bin/bash\n\nlistBookmarks() {\n    local bookmarksFile=./bookmarks.json\n\n    local pathSelected=$(cat $bookmarksFile |\n        jq -r \'.[]\' |\n        fzf)\n\n    if [[ -n "$pathSelected" ]]; then\n        cd $pathSelected\n    else\n        echo "no bookmark selected"\n    fi\n}\n')),(0,o.kt)(r.CaptionDocusaurus,{label:"listBookmarks function",linkIsRelative:!0,link:"posts/bash/1-interactive-bookmarks/code/listbookmarks.sh",mdxType:"CaptionDocusaurus"}),(0,o.kt)("p",null,"Let me define the basic structure:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Read the paths (i.e. ",(0,o.kt)("em",{parentName:"li"},"bookmarks"),")"),(0,o.kt)("li",{parentName:"ol"},"List them in an interactive way"),(0,o.kt)("li",{parentName:"ol"},"Once a bookmark is selected, navigate to it")),(0,o.kt)("p",null,"Now let's dive into the details:"),(0,o.kt)("h3",{id:"1-read-the-bookmarks"},"1. Read the bookmarks"),(0,o.kt)("p",null,"First, in order to make this extensible, the paths are listed in a JSON file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json",metastring:"file=code/bookmarks.json",file:"code/bookmarks.json"},'[\n    "/home/cangulo/repos/cangulo-tf",\n    "/home/cangulo/repos/cangulo-nuke"\n]\n')),(0,o.kt)(r.CaptionDocusaurus,{label:"bookmarks",linkIsRelative:!0,link:"posts/bash/1-interactive-bookmarks/code/bookmarks.json",mdxType:"CaptionDocusaurus"}),(0,o.kt)("p",null,"We can print the file content using ",(0,o.kt)("inlineCode",{parentName:"p"},"cat"),", and then use ",(0,o.kt)("inlineCode",{parentName:"p"},"jq")," to query the array items. "),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"cat $bookmarksFile  | jq -r '.[]'")),(0,o.kt)("details",null,(0,o.kt)("summary",null,"Why I'm using a JSON file instead of a simple text file. Click here for the answer:"),(0,o.kt)("p",null,"It is because in the article ",(0,o.kt)("a",{parentName:"p",href:"/blog/bash/5-interactive-bookmarks-v2"},"Interactive bookmarks menu v2")," I will add new features with more advanced bookmarks \ud83d\ude01")),(0,o.kt)("h3",{id:"2-list-the-bookmarks"},"2. List the bookmarks"),(0,o.kt)("p",null,"Here is where ",(0,o.kt)("inlineCode",{parentName:"p"},"fzf")," comes up. Anything that ",(0,o.kt)("inlineCode",{parentName:"p"},"fzf"),"  receives is listed interactively. In this case, we pipe the ",(0,o.kt)("inlineCode",{parentName:"p"},"jq")," result to ",(0,o.kt)("inlineCode",{parentName:"p"},"fzf"),", so the bookmarks are listed as shown in the ",(0,o.kt)("a",{parentName:"p",href:"#demo"},"demo")," section."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"cat $bookmarksFile | jq -r '.[]' | fzf")),(0,o.kt)("h3",{id:"3-once-a-bookmark-is-selected-navigate-to-it"},"3. Once a bookmark is selected, navigate to it"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"fzf")," returns the path selected, we save it to a variable."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"local pathSelected=$(cat $bookmarksFile | jq -r '.[]' | fzf)")),(0,o.kt)("p",null,"Last, we check if it is not empty (",(0,o.kt)("inlineCode",{parentName:"p"},"-n"),") before moving into:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'if [[ -n "$pathSelected" ]]; then\n    cd $pathSelected\nelse\n    echo "no bookmark selected"\nfi\n')),(0,o.kt)("h2",{id:"bonus-execute-this-every-time-you-open-a-terminal"},"Bonus: execute this every time you open a terminal"),(0,o.kt)("p",null,"You have to add this in your bash or zsh profile (",(0,o.kt)("em",{parentName:"p"},".bashrc"),", ",(0,o.kt)("em",{parentName:"p"},".zshrc")," ). Just append the ",(0,o.kt)("inlineCode",{parentName:"p"},"listBookmarks")," implementation at the end, update the ",(0,o.kt)("inlineCode",{parentName:"p"},"bookmarksFile")," variable to be a full path, and call the function."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"listBookmarks() {\n    local bookmarksFile='YOUR_PATH/bookmarks.json'\n    local pathSelected=$(cat $bookmarksFile |\n        jq -r '.[]' |\n        fzf)\n\n    if [[ -n \"$pathSelected\" ]]; then\n        cd $pathSelected\n    else\n        echo \"no bookmark selected\"\n    fi\n}\n\nlistBookmarks\n")),(0,o.kt)("p",null,"And that is all! I hope this saves you some time using the terminal. Do you find this useful? Do you have similar functions? Let me know in the comments below."),(0,o.kt)(m.Z,{id:"xUPOqo6E1XvWXwlCyQ",mdxType:"Gif"}),(0,o.kt)(s.ZP,{mdxType:"AboutMe"}),(0,o.kt)(r.ShareDocusaurus,{preSlug:u.group,slug:u.slug,title:u.title,tags:u.tags,mdxType:"ShareDocusaurus"}),(0,o.kt)(l.Z,{mdxType:"Comments"}))}g.isMDXComponent=!0},4888:function(e,t,a){var n=a(7294),i=a(4610),o=a(2263);t.Z=function(){var e=(0,o.default)().siteConfig,t=parseInt(e.customFields.hyvorTalkSiteId);return n.createElement("section",null,n.createElement("h2",null,"Comments"),n.createElement(i.Z.Embed,{loadMode:"scroll",websiteId:t}))}},6339:function(e,t,a){var n=a(7294),i=a(5697),o=a.n(i);function l(e){var t=e.id;return n.createElement("div",{style:{textAlign:"center"}},n.createElement("iframe",{src:"https://giphy.com/embed/"+t,width:"480",height:"270",frameBorder:"0",className:"giphy-embed",scrolling:"no"}),n.createElement("p",null,n.createElement("a",{href:"https://giphy.com/gifs/"+t},"via GIPHY")))}l.propTypes={id:o().string.isRequired},t.Z=l},1122:function(e,t,a){t.Z=a.p+"assets/images/demo_filter-512e76936638ae025f1b5a123e9f08be.gif"},7189:function(e,t,a){t.Z=a.p+"assets/images/goal-3323dbe631cfade73171a41aca6dc54e.gif"}}]);